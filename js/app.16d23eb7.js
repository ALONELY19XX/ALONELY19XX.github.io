(function(e){function t(t){for(var n,i,l=t[0],c=t[1],s=t[2],u=0,f=[];u<l.length;u++)i=l[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(f.length)f.shift()();return o.push.apply(o,s||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,l=1;l<a.length;l++){var c=a[l];0!==r[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},o=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},3015:function(e,t,a){},4070:function(e,t,a){"use strict";var n=a("3015"),r=a.n(n);r.a},"4a50":function(e,t,a){"use strict";var n=a("8aa8"),r=a.n(n);r.a},"51c0":function(e,t,a){"use strict";var n=a("534b"),r=a.n(n);r.a},"534b":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"main"}},[a("Header"),a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"6",sm:"6"}},[a("ImageUpload",{on:{updateImage:e.updateImage}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("Picture",{attrs:{img:e.xd},on:{updateImage:e.updateImage}})],1),a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("Configuration",{on:{updateSampleRate:function(t){e.sampleRate=t},updateEdgeThreshold:function(t){e.edgeThreshold=t},polygonize:e.onPolygonizeEvent,download:e.onDownloadEvent}})],1)],1)],1)],1)},o=[],i=(a("d3b7"),a("3ca3"),a("8a59"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("ddb0"),a("2b3d"),a("2909")),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-app-bar",{attrs:{color:"deep-purple accent-4",dense:"",flat:""}},[a("v-toolbar-title",{attrs:{id:"name"}},[e._v("Polymorph")]),a("v-spacer"),a("a",{attrs:{href:"https://github.com/ALONELY19XX",target:"_blank"}},[a("v-icon",[e._v(e._s(e.icons.mdiGithub))])],1)],1)],1)},c=[],s=a("94ed"),d={name:"Header",data:function(){return{icons:{mdiGithub:s["b"]}}}},u=d,f=(a("4a50"),a("2877")),p=a("6544"),g=a.n(p),m=a("40dc"),h=a("132d"),v=a("2fa4"),b=a("2a7f"),w=Object(f["a"])(u,l,c,!1,null,"8ff7e59c",null),_=w.exports;g()(w,{VAppBar:m["a"],VIcon:h["a"],VSpacer:v["a"],VToolbarTitle:b["a"]});var y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-img",{attrs:{id:"img",src:e.img||e.imageUrl,contain:"",width:"100%"}}),a("img",{attrs:{id:"lol",src:"",alt:""}})],1)},x=[],B={name:"Picture",data:function(){return{imageUrl:""}},props:{img:{type:String,default:function(){return""}}},methods:{imageChangedHandler:function(e){var t=URL.createObjectURL(e);this.imageUrl=t,this.$emit("updateImage",t)}}},R=B,D=a("adda"),I=Object(f["a"])(R,y,x,!1,null,null,null),T=I.exports;g()(I,{VImg:D["a"]});var V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{outlined:"",width:"100%"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",[a("div",[e._v(" Sample Rate: "+e._s(e.sampleRate)+"% ")]),a("v-slider",{attrs:{max:20,min:1},on:{change:e.updateSampleRate},model:{value:e.sampleRate,callback:function(t){e.sampleRate=t},expression:"sampleRate"}})],1)],1),a("v-row",[a("v-col",[a("div",[e._v(" Edge Threshold: "+e._s(e.edgeThreshold)+" ")]),a("v-slider",{attrs:{max:255,min:70},on:{change:e.updateEdgeThreshold},model:{value:e.edgeThreshold,callback:function(t){e.edgeThreshold=t},expression:"edgeThreshold"}})],1)],1),a("v-row",[a("v-col",[a("v-expansion-panels",{attrs:{flat:"",hover:"",tile:""}},[a("v-expansion-panel",[a("v-expansion-panel-header",[e._v("Details")]),a("v-expansion-panel-content",[a("v-simple-table",[a("tbody",[a("tr",[a("td",[a("v-icon",[e._v(e._s(e.icons.triangle))]),a("span",[e._v("Polygons")])],1),a("td",{attrs:{id:"polygons"}},[e._v("N/A")])]),a("tr",[a("td",[a("v-icon",[e._v(e._s(e.icons.vertex))]),a("span",[e._v("Vertices")])],1),a("td",{attrs:{id:"vertices"}},[e._v("N/A")])]),a("tr",[a("td",[a("v-icon",[e._v(e._s(e.icons.edge))]),a("span",[e._v("Edge")])],1),a("td",{attrs:{id:"edges"}},[e._v("N/A")])])])])],1)],1)],1)],1)],1),a("v-row",[a("v-col",[a("v-btn",{attrs:{depressed:"",text:"",color:"primary",ripple:""},on:{click:e.polygonizeHandler}},[a("v-icon",[e._v(e._s(e.icons.polymorph))]),e._v(" Polymorph ")],1),a("v-btn",{attrs:{depressed:"",text:"",color:"primary",ripple:""},on:{click:e.downloadHandler}},[a("v-icon",[e._v(e._s(e.icons.download))]),a("span",[e._v("Download")])],1)],1)],1)],1)],1)},E=[],j={name:"Configuration",data:function(){return{sampleRate:0,edgeThreshold:100,icons:{download:s["a"],polymorph:s["f"],triangle:s["e"],vertex:s["c"],edge:s["d"]}}},methods:{polygonizeHandler:function(){this.$emit("polygonize",null)},downloadHandler:function(){this.$emit("download",null)},updateSampleRate:function(){this.$emit("updateSampleRate",.01*this.sampleRate)},updateEdgeThreshold:function(){this.$emit("updateEdgeThreshold",this.edgeThreshold)}}},O=j,P=a("8336"),C=a("b0af"),S=a("62ad"),U=a("a523"),M=a("cd55"),k=a("49e2"),$=a("c865"),z=a("0393"),H=a("0fd9"),L=a("1f4f"),A=a("ba0d"),N=Object(f["a"])(O,V,E,!1,null,null,null),F=N.exports;g()(N,{VBtn:P["a"],VCard:C["a"],VCol:S["a"],VContainer:U["a"],VExpansionPanel:M["a"],VExpansionPanelContent:k["a"],VExpansionPanelHeader:$["a"],VExpansionPanels:z["a"],VIcon:h["a"],VRow:H["a"],VSimpleTable:L["a"],VSlider:A["a"]});var G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"file-input-wrapper"}},[a("v-file-input",{attrs:{dense:"","show-size":"",filled:"","hide-details":"",accept:"image/*",label:"File Input"},on:{change:e.imageChangedHandler}})],1)},J=[],X={name:"ImageUpload",data:function(){return{}},methods:{imageChangedHandler:function(e){this.$emit("updateImage",URL.createObjectURL(e))}}},q=X,W=(a("4070"),a("23a7")),Y=Object(f["a"])(q,G,J,!1,null,"1a401b1e",null),K=Y.exports;function Q(e,t){for(var a=0;a<t;a+=4){var n=.3*e[a]+.59*e[a+1]+.11*e[a+2];e[a]=n,e[a+1]=n,e[a+2]=n}}function Z(e,t,a){var n=[[1,0,-1],[2,0,-2],[1,0,-1]],r=[[1,2,1],[0,0,0],[-1,-2,-1]],o=new Uint8ClampedArray(t*a*4),i=0;Q(e,t*a*4);for(var l=4*t,c=0;c<a;c++)for(var s=0;s<l;s+=4)if(0!=s||s!=l-4||0!=c||c!=a-1)for(var d=e[s+l*c-4-l]*n[0][0]+e[s+l*c+4-l]*n[0][2]+e[s+l*c-4]*n[1][0]+e[s+l*c+4]*n[1][2]+e[s+l*c-4+l]*n[2][0]+e[s+l*c+4+l]*n[2][2],u=e[s+l*c-4-l]*r[0][0]+e[s+l*c-l]*r[0][1]+e[s+l*c+4-l]*r[0][2]+e[s+l*c-4+l]*r[2][0]+e[s+l*c+l]*r[2][1]+e[s+l*c+4+l]*r[2][2],f=0;f<4;f++)o[i]=f<3?Math.floor(Math.sqrt(Math.pow(d,2)+Math.pow(u,2))):e[s+l*c+3],i++;else for(var p=0;p<4;p++)o[i]=e[s+l*c+p];for(var g=0;g<o.length;g++)e[g]=o[g]}g()(Y,{VFileInput:W["a"]});a("99af"),a("cb29");var ee=a("8ea0");a("fb6a");function te(e,t,a,n,r){for(var o=t*a*4,i=[],l=0;l<o;l+=4)e[l]>r&&(e[l]=255,e[l+1]=0,e[l+2]=0,i.push([l/4%t,Math.ceil(l/4/t)]));for(var c=i.length-1;c>0;c--){var s=i[c],d=Math.floor(Math.random()*(c+1));i[c]=i[d],i[d]=s}return i=i.slice(0,Math.floor(i.length*n)),i.push([0,0],[0,a],[t,0],[t,a]),i}function ae(e,t,a,n,r,o,i){for(var l=te(e,t,a,o,i),c=ee["a"].from(l),s=0;s<c.triangles.length;s+=3){n.beginPath(),n.moveTo(l[c.triangles[s]][0],l[c.triangles[s]][1]),n.lineTo(l[c.triangles[s+1]][0],l[c.triangles[s+1]][1]),n.lineTo(l[c.triangles[s+2]][0],l[c.triangles[s+2]][1]),n.closePath();var d=Math.floor((l[c.triangles[s]][0]+l[c.triangles[s+1]][0]+l[c.triangles[s+2]][0])/3),u=Math.floor((l[c.triangles[s]][1]+l[c.triangles[s+1]][1]+l[c.triangles[s+2]][1])/3),f=u*t*4+4*d;n.fillStyle="rgb(".concat(r[f],",").concat(r[f+1],",").concat(r[f+2],")"),n.fill(),n.lineWidth=1,n.strokeStyle="rgb(".concat(r[f],",").concat(r[f+1],",").concat(r[f+2],")"),n.stroke()}}var ne={name:"App",components:{Header:_,Picture:T,Configuration:F,ImageUpload:K},data:function(){return{iconz:s["b"],cachedImgBufferData:null,img:null,imgBuffer:null,imgBufferColor:null,context:null,imgBufferData:null,imgSize:null,xd:null,sampleRate:.01,edgeThreshold:100}},created:function(){var e=document.createElement("canvas"),t=e.getContext("2d");this.imgBuffer=e,this.context=t},methods:{updateImage:function(e){this.img=e;var t=new Image;t.src=this.img;var a=this;t.onload=function(){a.imgBuffer.width=t.width,a.imgBuffer.height=t.height,a.context.drawImage(t,0,0),a.imgBufferData=a.context.getImageData(0,0,a.imgBuffer.width,a.imgBuffer.height),a.cachedImgBufferData=new Uint8ClampedArray(a.imgBufferData.data),a.imgBufferColor=Object(i["a"])(a.imgBufferData.data),a.imgSize=a.imgBufferData.data.length,a.xd=a.imgBuffer.toDataURL()}},rollbackChanges:function(){this.imgBufferData.data.set(this.cachedImgBufferData),this.context.putImageData(this.imgBufferData,0,0),this.xd=this.imgBuffer.toDataURL()},onDownloadEvent:function(){var e=document.createElement("a");this.imgBuffer.toBlob((function(t){e.href=URL.createObjectURL(t),e.download="polygonize.jpg",e.click()}),"image/jpg",1)},onPolygonizeEvent:function(){this.rollbackChanges();var e=this;Z(e.imgBufferData.data,e.imgBuffer.width,e.imgBuffer.height),e.context.putImageData(e.imgBufferData,0,0),ae(e.imgBufferData.data,e.imgBuffer.width,e.imgBuffer.height,e.context,e.imgBufferColor,e.sampleRate,e.edgeThreshold),e.xd=e.imgBuffer.toDataURL()}}},re=ne,oe=(a("51c0"),a("7496")),ie=Object(f["a"])(re,r,o,!1,null,"c9ff8746",null),le=ie.exports;g()(ie,{VApp:oe["a"],VCol:S["a"],VContainer:U["a"],VRow:H["a"]});var ce=a("f309");n["a"].use(ce["a"]);var se=new ce["a"]({icons:{iconfont:"mdiSvg"}}),de=a("8c4f");n["a"].use(de["a"]);var ue=[],fe=new de["a"]({mode:"history",base:"/",routes:ue}),pe=fe;n["a"].config.productionTip=!1,new n["a"]({vuetify:se,router:pe,render:function(e){return e(le)}}).$mount("#app")},"8aa8":function(e,t,a){}});
//# sourceMappingURL=app.16d23eb7.js.map